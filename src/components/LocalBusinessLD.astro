---
// Strip trailing slash from site, then add paths yourself
const base = (Astro.site?.toString?.() || 'https://digissential.co.za').replace(/\/+$/, '');

const ld = {
  "@context": "https://schema.org",
  "@type": ["LocalBusiness","ProfessionalService"],
  "@id": `${base}#localbusiness`,
  "name": "Digissential",
  "url": `${base}/`,
  "telephone": "+27664256314",
  "email": "digissentialteam@gmail.com",

  // Use BOTH: logo (square, ImageObject) + image (array)
  "logo": {
    "@type": "ImageObject",
    "url": `${base}/images/logo-1200.png`,
    "width": 1200,
    "height": 1200
  },
  "image": [
    `${base}/images/logo-1200.png`,
    `${base}/images/brand-cover-1200x630.jpg`
  ],

  "description": "Computer repair & IT support in Stellenbosch: Windows installs, data recovery, malware removal, upgrades, and remote help.",
  "priceRange": "R",

  "contactPoint": [{
    "@type": "ContactPoint",
    "telephone": "+27664256314",
    "contactType": "customer support",
    "areaServed": "ZA",
    "availableLanguage": ["en","af"],
    "url": `${base}/contact/`
  }],

  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Berg-en-Dal, La Colline",
    "addressLocality": "Stellenbosch",
    "addressRegion": "WC",
    "postalCode": "7600",
    "addressCountry": "ZA"
  },

  "areaServed": { "@type": "City", "name": "Stellenbosch" },

  "openingHoursSpecification": [{
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
    "opens": "09:00",
    "closes": "18:00"
  }],

  "sameAs": [
    "https://www.facebook.com/profile.php?id=61580005651505",
    "https://www.instagram.com/digi.ssential/",
    "https://x.com/Digi_ssential",
    "https://www.youtube.com/channel/UCJGDwg2FGiwAButfLsLyNtg",
    "https://www.tiktok.com/@digissential"
  ]
};
---
<script type="application/ld+json" set:html={JSON.stringify(ld)} />

---
const { emitLd = false } = Astro.props as { emitLd?: boolean };

const site = Astro.site?.toString?.() || 'https://www.digissential.co.za';
const url = new URL('/services', site).toString();

const serviceLd = {
  "@context": "https://schema.org",
  "@type": "Service",
  "@id": `${url}#general-labour`,
  "name": "General Labour",
  "serviceType": "Computer repair & IT support",
  "areaServed": { "@type": "City", "name": "Stellenbosch" },
  "provider": { "@id": `${site}#localbusiness` },
  "offers": [
    {
      "@type": "Offer",
      "name": "Standard labour",
      "price": 450,
      "priceCurrency": "ZAR",
      "url": url,
      "description": "Billed in 30-minute increments."
    },
    {
      "@type": "Offer",
      "name": "After-hours labour",
      "price": 650,
      "priceCurrency": "ZAR",
      "url": url,
      "description": "Flat hourly after-hours, by appointment."
    }
  ]
};
---

<section aria-labelledby="rates-title" class="mt-6">
  <div class="rounded-2xl border border-white/10 bg-gradient-to-r from-digi-ink via-digi-ink/80 to-digi-ink/60 p-5 md:p-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      <div>
        <div id="rates-title" class="text-sm uppercase tracking-wide text-white/70">Transparent labour rates</div>
        <h2 class="mt-1 text-2xl font-extrabold">Fair, simple pricing that applies to all services</h2>
        <p class="mt-2 text-white/70 max-w-2xl">Standard work is billed per <strong>30-minute</strong> increments. After-hours support is a flat hourly rate. Parts, travel surcharges, and agreed add-ons are separate.</p>
      </div>

      <div class="grid gap-3 sm:grid-cols-2">
        <div class="rounded-xl2 bg-white/5 border border-white/10 p-4">
          <div class="flex items-center gap-2 text-white/80">
            <!-- Clock icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="opacity-80"><circle cx="12" cy="12" r="9"/><path d="M12 7v6l4 2"/></svg>
            <span class="text-sm">Standard labour</span>
          </div>
          <div class="mt-2 text-3xl font-extrabold">R450<span class="text-base font-semibold text-white/70"> / hr</span></div>
          <div class="text-xs text-white/60">Billed in 30-minute increments</div>
        </div>

        <div class="rounded-xl2 bg-white/5 border border-white/10 p-4">
          <div class="flex items-center gap-2 text-white/80">
            <!-- Moon icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="opacity-80"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            <span class="text-sm">After-hours labour</span>
          </div>
          <div class="mt-2 text-3xl font-extrabold">R650<span class="text-base font-semibold text-white/70"> / hr</span></div>
          <div class="text-xs text-white/60">Flat hourly (by appointment)</div>
        </div>
      </div>
    </div>

    <div class="mt-4 text-xs text-white/60">
      Note: On-site work may include a travel surcharge (see <a class="link-fancy" href="/services/on-site-surcharge-20km">On-Site Surcharge</a>).
    </div>
  </div>
</section>

{emitLd && <script type="application/ld+json">{JSON.stringify(serviceLd)}</script>}

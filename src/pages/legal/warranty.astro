---
import Base from '@layouts/Base.astro';
import Breadcrumbs from '@components/Breadcrumbs.astro';
import PolicyHero from '@components/PolicyHero.astro';

const faqs = [
  {
    q: "How long is the warranty on new parts?",
    a: "Six (6) months implied warranty under the CPA from delivery/collection. You may choose repair, replacement, or refund after inspection."
  },
  {
    q: "What about labour/workmanship?",
    a: "Repairs and installations are warranted for 90 days for workmanship related to the original fault; we’ll re-perform the work if a workmanship defect is established."
  },
  {
    q: "Do refurbished or used parts have a warranty?",
    a: "Yes—disclosed on your quote/invoice (default 90 days unless otherwise stated)."
  },
  {
    q: "What if a part is dead-on-arrival (DOA)?",
    a: "If a Company-supplied part fails within 7 calendar days and shows a manufacturing defect, we prioritise a replacement or refund (subject to supplier stock) after expedited inspection. Reasonable inbound courier within SA may be covered."
  },
  {
    q: "Are client-supplied parts covered?",
    a: "We do not warrant client-supplied parts. Any manufacturer warranty must be claimed with your supplier. Re-installation/diagnostics may be billed unless the failure is proven to be our workmanship."
  },
  {
    q: "Is software support covered?",
    a: "We support the original software issue for 7 days after handover. New issues, user-introduced malware, later updates, or third-party changes are excluded."
  }
];

const faqLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(f => ({
    "@type": "Question",
    "name": f.q,
    "acceptedAnswer": { "@type": "Answer", "text": f.a }
  }))
};
---

<Base title="Warranty & Returns — Digissential" description="CPA-aligned warranty and returns policy: new parts, refurbished parts, workmanship, DOA and claim steps.">
  <!-- Breadcrumbs -->
  <main class="container-prose pt-6">
    <Breadcrumbs items={[
      { href: '/legal', label: 'Trust' },
      { href: '/legal/warranty', label: 'Warranty & Returns' },
    ]} />
  </main>

  <!-- Brandful hero -->
  <PolicyHero
    title="Warranty & Returns"
    subtitle="Clear, CPA-aligned remedies with realistic timelines and transparent communication."
    badges={["CPA-aligned", "6-month implied (new parts)", "90-day workmanship"]}
  >
    <svg slot="icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
         aria-hidden="true">
      <path d="M20 6l-11 11-5-5"/>
    </svg>
  </PolicyHero>

  <!-- Content -->
  <main class="container-prose pb-20 prose prose-invert max-w-3xl">
    <section class="grid gap-6 md:grid-cols-2">
      <!-- Covered -->
      <article class="card p-6 border-l-4 border-l-emerald-400/70">
        <h2 class="text-xl font-bold">What’s covered</h2>
        <ul class="mt-3 space-y-2 text-sm text-white/80 list-disc pl-5">
          <li><strong>New parts:</strong> 6-month implied warranty (CPA) from delivery/collection — repair, replacement, or refund after inspection.</li>
          <li><strong>Refurbished/used parts:</strong> Warranty disclosed on your quote/invoice (default 90 days unless otherwise stated).</li>
          <li><strong>Workmanship (labour):</strong> 90-day warranty for issues tied to the original fault.</li>
          <li><strong>DOA:</strong> If a Company-supplied part fails within 7 days and shows a manufacturing defect, we prioritise replacement/refund after inspection; reasonable inbound courier within SA may be covered.</li>
          <li><strong>Software (original issue):</strong> 7-day support window after handover.</li>
        </ul>
      </article>

      <!-- Not covered -->
      <article class="card p-6 border-l-4 border-l-rose-400/70">
        <h2 class="text-xl font-bold">What’s not covered</h2>
        <ul class="mt-3 space-y-2 text-sm text-white/80 list-disc pl-5">
          <li>Physical/liquid/burn damage after service, power surge/lightning, blocked ventilation/overheating.</li>
          <li>Unauthorised repair/modification or third-party tampering after handover.</li>
          <li>Wear-and-tear items (e.g., batteries, fans, thermal compounds) unless stated otherwise in writing.</li>
          <li>Client-introduced malware, unrelated new faults, later OS/app updates, or third-party interference.</li>
          <li><strong>Client-supplied parts:</strong> no parts warranty from us; pursue the supplier/manufacturer directly.</li>
          <li>Data loss/corruption or recovery outcomes (we offer paid backups on request).</li>
        </ul>
      </article>
    </section>

    <!-- Stepper: How to claim -->
    <section class="mt-10">
      <h2 class="text-2xl font-bold">How to claim</h2>
      <ol class="mt-4 space-y-4">
        <li class="flex gap-3">
          <span class="mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-white/10 bg-white/5 text-sm">1</span>
          <p><strong>Email</strong> <a class="link-fancy" href="mailto:digissentialteam@gmail.com">digissentialteam@gmail.com</a> with your invoice number, device model/serial, fault description, and photos/video if possible.</p>
        </li>
        <li class="flex gap-3">
          <span class="mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-white/10 bg-white/5 text-sm">2</span>
          <p><strong>Acknowledgement:</strong> We confirm within 2 business days and share next steps and a reference number.</p>
        </li>
        <li class="flex gap-3">
          <span class="mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-white/10 bg-white/5 text-sm">3</span>
          <p><strong>Return &amp; inspection:</strong> Deliver/courier the device/part for diagnostics (typically within 5 business days; longer if supplier testing is required — we’ll keep you posted).</p>
        </li>
        <li class="flex gap-3">
          <span class="mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-white/10 bg-white/5 text-sm">4</span>
          <p><strong>Outcome:</strong> If approved, we apply the CPA remedy (repair, replacement, or refund) or rework for workmanship. If declined, we’ll provide reasons and evidence.</p>
        </li>
        <li class="flex gap-3">
          <span class="mt-1 inline-flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-white/10 bg-white/5 text-sm">5</span>
          <p><strong>Refund timing:</strong> Within 7 business days via the original payment method where practicable.</p>
        </li>
      </ol>
    </section>

    <!-- Claim Form CTA + policy link -->
<section class="mt-10 grid gap-6 md:grid-cols-[1fr,auto] items-center">
  <div class="card p-6 flex items-center gap-4">
    <span class="inline-flex h-10 w-10 items-center justify-center rounded-2xl border border-white/10 bg-white/5">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path d="M12 3v12m0 0l-4-4m4 4l4-4M5 21h14" />
      </svg>
    </span>
    <div class="flex-1">
      <p class="font-semibold">Download the Warranty Claim Form</p>
      <p class="text-sm text-white/70">Complete this form to start a warranty claim.</p>

      <div class="mt-2 text-xs text-white/60">
        <a class="link-fancy" href="/legal/warranty-returns-procedure.pdf" download>
          View full Warranty &amp; Returns Policy (PDF)
        </a>
        <span class="mx-2 opacity-50">•</span>
        <a class="link-fancy" href="/legal">See all policies</a>
      </div>
    </div>
    <a class="btn btn-primary" href="/legal/warranty-claim-form.pdf" download>Download form</a>
  </div>



      <a class="btn btn-outline" href="/contact">Need help? Contact us</a>
    </section>

    <hr class="my-10 border-white/10" />

    <!-- FAQ -->
    <section>
      <h2 class="text-2xl font-bold">FAQ</h2>
      <ul class="mt-4 space-y-4">
        {faqs.map(f => (
          <li class="card p-5">
            <p class="font-semibold">{f.q}</p>
            <p class="text-white/80 mt-1">{f.a}</p>
          </li>
        ))}
      </ul>
    </section>

    <script type="application/ld+json">{JSON.stringify(faqLd)}</script>
  </main>
</Base>
